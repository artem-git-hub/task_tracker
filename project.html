<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Проект №1</title>

    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/bootstrap/icons/bootstrap-icons.min.css" rel="stylesheet">
    <link href="/css/global.css" rel="stylesheet">
    <link href="/css/project.css" rel="stylesheet">
</head>

<body>
    <!--Панель навигации сверху, закрепленная-->
    <nav class="navbar sticky-top bg-body-tertiary p-1">
        <div class="container-fluid px-4 d-flex justify-content-between flex-nowrap">

            <!--Элементы слева-->
            <div class="d-flex">
                <a href="/profile.html" class="text-decoration-none text-reset d-flex">
                    <img src="/img/avatar.jpeg" class="rounded mini-avatar">
                    <b class="my-auto px-2 text-break">Имя пользователя</b>
                </a>
            </div>

            <!--Элементы справа-->
            <div class="d-flex">
                <!--Меню для добавления друзей и удаления проекта-->
                <div class="dropstart">
                    <button class="btn btn border mx-2 my-auto" type="button" data-bs-toggle="dropdown">
                        <i class="bi bi-wrench-adjustable"></i>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Друзья проекта</a></li>
                        <li><a class="dropdown-item text-danger" href="#">Удалить проект</a></li>
                    </ul>
                </div>

                <!--Кнопка разворачивания главного меню-->
                <button class=" btn border h-100" type="button" data-bs-toggle="offcanvas" data-bs-target="#mainMenu">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>


            <!--Главное меню-->
            <div class="offcanvas offcanvas-end bg-body-tertiary navbar-nav" tabindex="-1" id="mainMenu">
                <div class="offcanvas-header px-5">
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
                </div>
                <div class="offcanvas-body text-center py-1">
                    <ul class="navbar-nav h-100">
                        <h2 class="mb-4">Task Tracker</h2>

                        <li class="nav-item">
                            <a href="/profile.html" class="text-decoration-none text-reset">
                                <img src="/img/avatar.jpeg" class="w-25 rounded my-2">
                                <h5 class="mb-0">Имя пользователя</h5>
                                <p class="mb-5">@login</p>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="text-decoration-none text-reset" href="#">
                                <h4 class="mb-4">Проекты</h4>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="text-decoration-none text-reset" href="#">
                                <h4 class="mb-4">Настройки</h4>
                            </a>
                        </li>
                        <li class="nav-item mt-auto">
                            <a class="text-decoration-none text-reset" href="#">
                                <h4 class="mb-4">Выход</h4>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!--Основное содержимое-->
    <div class="content">
        <!--Контейнер для блоков-->
        <div class="row gx-5 gy-4">

            <!--Главный блок проекта-->
            <div class="col-lg-4 col-sm-6 col-12" id="block-0">
                <div class="card overflow-y-auto">
                    <!-- Содержимое блока -->
                    <div class="card-body">
                        <div class="d-flex flex-nowrap justify-content-between">
                            <h4 class="block-title">Заголовок проекта</h4>
                            <div class="dropdown">
                                <button class="btn btn-block-menu" type="button" data-bs-toggle="dropdown">
                                    <i class="bi bi-three-dots"></i>
                                </button>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a class="dropdown-item" href="#" data-bs-toggle="modal"
                                            data-bs-target="#modalProject" data-bs-block="block-0">
                                            Редактировать проект
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <p class="pre-text">Описание проекта. Описание проекта. Описание проекта. Описание проекта.
                            Описание проекта.</p>
                    </div>
                </div>
            </div>

            <!--Блок список чексбоксов-->
            <div class="col-lg-4 col-sm-6 col-12" id="block-1">
                <div class="card overflow-y-auto">
                    <!-- Содержимое блока -->
                    <div class="card-body">
                        <div class="d-flex flex-nowrap justify-content-between">
                            <h5 class="block-title"></h5>
                            <div class="dropdown">
                                <button class="btn btn-block-menu" type="button" data-bs-toggle="dropdown">
                                    <i class="bi bi-three-dots"></i>
                                </button>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a class="dropdown-item" href="#" data-bs-toggle="modal"
                                            data-bs-target="#modalChecklist" data-bs-block="block-1">
                                            Редактировать блок
                                        </a>
                                    </li>
                                    <li><a class="dropdown-item" href="#">Удалить блок</a></li>
                                </ul>
                            </div>
                        </div>
                        <!--Класс up применять при пустом заголовке-->
                        <ul class="list-unstyled b-list up mb-0">
                            <li class="form-check">
                                <label class="form-check-label">
                                    <input type="checkbox" class="form-check-input" name="option1" checked>
                                    Элемент 1
                                </label>
                            </li>
                            <li class="form-check">
                                <label class="form-check-label">
                                    <input type="checkbox" class="form-check-input" name="option2" checked>
                                    Элемент 2
                                </label>
                            </li>
                            <li class="form-check">
                                <label class="form-check-label">
                                    <input type="checkbox" class="form-check-input" name="option3">
                                    Элемент 3 тыры пыры подлинннее что-то
                                </label>
                            </li>
                            <li class="form-check">
                                <label class="form-check-label">
                                    <input type="checkbox" class="form-check-input" name="option4">
                                    Элемент 4
                                </label>
                            </li>
                        </ul>

                        <div class="d-flex">
                            <button class="btn btn-link mx-auto btn-add-sm" data-bs-toggle="modal"
                                data-bs-target="#modalChecklist" data-bs-block="block-1" data-bs-addItem="checkbox">
                                <i class="bi bi-plus-circle"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!--Блок изображений-->
            <div class="col-lg-4 col-sm-6 col-12" id="block-2">
                <div class="card overflow-y-auto">
                    <!-- Содержимое блока -->
                    <div class="card-body">
                        <div class="d-flex flex-nowrap justify-content-between">
                            <h5 class="block-title"></h5>
                            <div class="dropdown">
                                <button class="btn btn-block-menu" type="button" data-bs-toggle="dropdown">
                                    <i class="bi bi-three-dots"></i>
                                </button>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a class="dropdown-item" href="#" data-bs-toggle="modal"
                                            data-bs-target="#modalImage" data-bs-block="block-2">
                                            Редактировать блок
                                        </a>
                                    </li>
                                    <li><a class="dropdown-item" href="#">Удалить блок</a></li>
                                </ul>
                            </div>
                        </div>
                        <!--Класс up применять при пустом заголовке-->
                        <div class="up d-flex align-items-center justify-content-center h-100">
                            <img src="/img/img1.jpeg" class="max-hw-100">
                        </div>

                        </ul>
                    </div>
                </div>
            </div>

            <!--Блок ссылок-->
            <div class="col-lg-4 col-sm-6 col-12" id="block-3">
                <div class="card overflow-y-auto">
                    <!-- Содержимое блока -->
                    <div class="card-body">
                        <div class="d-flex flex-nowrap justify-content-between">
                            <h5 class="block-title"></h5>
                            <div class="dropdown">
                                <button class="btn btn-block-menu" type="button" data-bs-toggle="dropdown">
                                    <i class="bi bi-three-dots"></i>
                                </button>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a class="dropdown-item" href="#" data-bs-toggle="modal"
                                            data-bs-target="#modalLinks" data-bs-block="block-3">
                                            Редактировать блок
                                        </a>
                                    </li>
                                    <li><a class="dropdown-item" href="#">Удалить блок</a></li>
                                </ul>
                            </div>
                        </div>
                        <!--Класс up применять при пустом заголовке-->
                        <ul class="list-unstyled b-list up mb-0">
                            <li class="form-check">
                                <a href="https://github.com" class="form-check-label" target="_blank">GitHub</a>
                            </li>
                            <li class="form-check">
                                <a href="https://www.google.com" class="form-check-label" target="_blank">Google</a>
                            </li>
                            <li class="form-check">
                                <a href="https://ru.wikipedia.org" class="form-check-label"
                                    target="_blank">Википедия</a>
                            </li>
                            <li class="form-check">
                                <a href="https://vk.com" class="form-check-label" target="_blank">ВКонтакте</a>
                            </li>
                        </ul>

                        <div class="d-flex">
                            <button class="btn btn-link mx-auto btn-add-sm" data-bs-toggle="modal"
                                data-bs-target="#modalLinks" data-bs-block="block-3" data-bs-addItem="link">
                                <i class="bi bi-plus-circle"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!--Блок текста-->
            <div class="col-lg-4 col-sm-6 col-12" id="block-4">
                <div class="card overflow-y-auto">
                    <!-- Содержимое блока -->
                    <div class="card-body">
                        <div class="d-flex flex-nowrap justify-content-between">
                            <h5 class="block-title">Блок с заголовком</h5>
                            <div class="dropdown">
                                <button class="btn btn-block-menu" type="button" data-bs-toggle="dropdown">
                                    <i class="bi bi-three-dots"></i>
                                </button>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a class="dropdown-item" href="#" data-bs-toggle="modal"
                                            data-bs-target="#modalText" data-bs-block="block-4">
                                            Редактировать блок
                                        </a>
                                    </li>
                                    <li><a class="dropdown-item" href="#">Удалить блок</a></li>
                                </ul>
                            </div>
                        </div>
                        <p class="pre-text">Текст блока. Текст блока. Текст блока. Текст блока. Текст
                            блока. Текст
                            блока. Текст блока.
                            Текст блока. Текст блока. Текст блока. Текст блока. Текст блока. Текст блока. Текст блока.
                            Текст
                            блока. Текст блока. Текст блока. Текст блока. Текст блока. Текст блока. Текст блока. Текст
                            блока.</p>
                    </div>
                </div>
            </div>

            <!--Блок добавления блоков-->
            <div class="col-lg-4 col-sm-6 col-12">
                <div class="card">
                    <!-- Содержимое блока -->
                    <div class="card-body">
                        <div class="d-flex justify-content-center align-items-center h-100 dropdown">
                            <button class="btn btn-link btn-add-big" data-bs-toggle="dropdown">
                                <i class="bi bi-plus-circle"></i>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal"
                                        data-bs-target="#modalChecklist">Чек-лист</a></li>
                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal"
                                        data-bs-target="#modalText">Текст</a></li>
                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal"
                                        data-bs-target="#modalImage">Изображение</a></li>
                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal"
                                        data-bs-target="#modalLinks">Ссылки</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Модальные окна блоков-->

    <!--Модальное окно проекта-->
    <div class="modal fade modal-block" id="modalProject" tabindex="-1">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Проект</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h6>Название проекта</h6>
                    <input type="text" name="blockTitle" class="form-control mb-3"
                        placeholder="Введите название проекта">

                    <h6>Описание проекта</h6>
                    <textarea name="projectDescription" class="form-control" rows="3"
                        placeholder="Введите описание проекта (необязательно)"></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>
                    <button type="button" class="btn btn-primary" onclick="submitModal('modalProject')">
                        Добавить блок
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--Модальное окно чек-листа-->
    <div class=" modal fade modal-block" id="modalChecklist" tabindex="-1">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Чек-лист</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h6>Название чек-листа</h6>
                    <input type="text" name="blockTitle" class="form-control mb-3"
                        placeholder="Введите название чек-листа (необязательно)">

                    <h6>Элементы чек-листа</h6>
                    <div class="modal-checklist-content">
                        <!--Генерируются-->
                    </div>

                    <div class="d-flex">
                        <button class="btn btn-link mx-auto btn-add-sm">
                            <i class="bi bi-plus-circle"></i>
                        </button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>
                    <button type="button" class="btn btn-primary" onclick="submitModal('modalChecklist')">
                        Добавить блок
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--Модальное окно текста-->
    <div class="modal fade modal-block" id="modalText" tabindex="-1">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Текст</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h6>Название текста</h6>
                    <input type="text" name="blockTitle" class="form-control mb-3"
                        placeholder="Введите название текста (необязательно)">

                    <h6>Текст</h6>
                    <textarea class='form-control' rows='5' placeholder='Введите текст'></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>
                    <button type="button" class="btn btn-primary" onclick="submitModal('modalText')">
                        Добавить блок
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--Модальное окно изображения-->
    <div class="modal fade modal-block" id="modalImage" tabindex="-1">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Изображение</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h6>Название изображения</h6>
                    <input type="text" name="blockTitle" class="form-control mb-3"
                        placeholder="Введите название изображения (необязательно)">

                    <h6>Выбор изображения</h6>
                    <div class="d-flex justify-content-center">
                        <img id="imagePreview rounded w-100 mx-auto my-2" src="">
                    </div>
                    <input type="file" class="form-control mb-3" accept="image/*" onchange="previewImage(event)">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>
                    <button type="button" class="btn btn-primary" onclick="submitModal('modalImage')">
                        Добавить блок
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!--Модальное окно ссылок-->
    <div class="modal fade modal-block" id="modalLinks" tabindex="-1">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Ссылки</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <h6>Название блока ссылок</h6>
                    <input type="text" name="blockTitle" class="form-control mb-3"
                        placeholder="Введите название блока ссылок (необязательно)">

                    <h6>Ссылки</h6>
                    <div class="modal-links-content">
                        <!--Генерируются-->
                    </div>

                    <div class="d-flex">
                        <button class="btn btn-link mx-auto btn-add-sm">
                            <i class="bi bi-plus-circle"></i>
                        </button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>
                    <button type="button" class="btn btn-primary" onclick="submitModal('modalLinks')">
                        Добавить блок
                    </button>
                </div>
            </div>
        </div>
    </div>


    <script src="/js/jquery-3.7.1.min.js"></script>
    <script src="/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script src="/js/project_modal-blocks.js"></script>

</body>

</html>